"use strict";(self.webpackChunkreact_fastapi_auth_app=self.webpackChunkreact_fastapi_auth_app||[]).push([[364],{2086:function(e,a,s){s.d(a,{A:function(){return m}});var n=s(5544),t=s(5043),r=s(4117),l=s(5475),i=[{id:"homeMenu",label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",path:"/admin/home"},{id:"dashboardMenu",label:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u041e\u0431\u044c\u044f\u0432\u043b\u0435\u043d\u0438\u044f\u043c\u0438",children:[{path:"/admin/create/advert",label:"+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c"},{path:"/admin/stats",label:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"},{path:"/admin/analytics",label:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"},{path:"/admin/my/adverts",label:"\u041c\u043e\u0438 \u041e\u0431\u044c\u044f\u0432\u043b\u0435\u043d\u0438\u044f"}]},{id:"ordersMenu",label:"\u0417\u0430\u043a\u0430\u0437\u044b",children:[{path:"/orders/current",label:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u044b"},{path:"/orders/history",label:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"},{path:"/orders/returns",label:"\u0412\u043e\u0437\u0432\u0440\u0430\u0442\u044b"}]},{id:"accountMenu",label:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442",children:[{path:"/account/profile",label:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},{path:"/account/settings",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},{path:"/logout",label:"\u0412\u044b\u0439\u0442\u0438"}]}],c=(s(8421),s(8885),s(8816)),o=s(579),d=function(){var e=(0,r.Bd)().t,a=(0,t.useState)(!1),s=(0,n.A)(a,2),d=s[0],u=s[1];return(0,o.jsxs)("div",{className:"d-flex flex-column flex-md-row",children:[(0,o.jsxs)("div",{className:"offcanvas-md offcanvas-start text-bg-dark ".concat(d?"show":""),tabIndex:"-1",id:"sidebar",style:{width:"280px",visibility:d?"visible":""},children:[(0,o.jsxs)("div",{className:"offcanvas-header d-md-none",children:[(0,o.jsx)("h5",{className:"offcanvas-title text-white",children:e("menu")}),(0,o.jsx)("button",{type:"button",className:"btn-close btn-close-white",onClick:function(){return u(!1)}})]}),(0,o.jsxs)("div",{className:"offcanvas-body d-flex flex-column p-3",children:[(0,o.jsxs)(l.N_,{to:"/admin/home",className:"d-flex align-items-center mb-3 text-white text-decoration-none",children:[(0,o.jsx)("svg",{className:"bi pe-none me-2",width:"30",height:"24",children:(0,o.jsx)("use",{xlinkHref:"#bootstrap"})}),(0,o.jsx)("span",{className:"fs-5",children:"Admin Panel"})]}),(0,o.jsx)("hr",{}),(0,o.jsx)("div",{className:"accordion",id:"sidebarAccordion",children:i.map((function(e){return(0,o.jsx)("div",{className:"accordion-item bg-dark border-0",children:e.children&&Array.isArray(e.children)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{className:"accordion-header",children:(0,o.jsx)("button",{className:"accordion-button collapsed bg-dark text-white",type:"button","data-bs-toggle":"collapse","data-bs-target":"#".concat(e.id),children:e.label})}),(0,o.jsx)("div",{id:e.id,className:"accordion-collapse collapse","data-bs-parent":"#sidebarAccordion",children:(0,o.jsx)("ul",{className:"list-unstyled fw-normal pb-1 small",children:e.children.map((function(e,a){return(0,o.jsx)("li",{children:(0,o.jsx)(l.N_,{to:e.path,className:"nav-link text-white ps-4",children:e.label})},a)}))})})]}):(0,o.jsx)(l.N_,{to:e.path,className:"nav-link text-white ps-3 py-2",children:e.label})},e.id)}))}),(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{className:"dropdown mt-auto",children:[(0,o.jsxs)("a",{href:"#",className:"d-flex align-items-center text-white text-decoration-none dropdown-toggle","data-bs-toggle":"dropdown",children:[(0,o.jsx)("img",{src:"/images/default-user.jpg",alt:"User",width:"32",height:"32",className:"rounded-circle me-2"}),(0,o.jsx)("strong",{children:e("menu.user")})]}),(0,o.jsxs)("ul",{className:"dropdown-menu dropdown-menu-dark text-small shadow",children:[(0,o.jsx)("li",{children:(0,o.jsx)("a",{className:"dropdown-item",href:"/admin/myprofile",children:e("menu.myprofile")})}),(0,o.jsx)("li",{children:(0,o.jsx)("a",{className:"dropdown-item",href:"#",children:e("menu.settings")})}),(0,o.jsx)("li",{children:(0,o.jsx)("hr",{className:"dropdown-divider"})}),(0,o.jsx)("li",{children:(0,o.jsx)("button",{className:"dropdown-item",onClick:c.ri,children:e("menu.logout")})})]})]})]})]}),(0,o.jsx)("div",{className:"d-md-none bg-dark text-white p-2",children:(0,o.jsxs)("button",{className:"btn btn-outline-light",onClick:function(){return u(!d)},children:["\u2630 ",e("menu.toggle")]})})]})},u=(s(4108),function(){return(0,o.jsx)("footer",{className:"mt-auto bg-light border-top py-3 px-4",children:(0,o.jsxs)("div",{className:"d-flex justify-content-between align-items-center flex-wrap",children:[(0,o.jsxs)("span",{className:"text-muted",children:["\xa9 ",(new Date).getFullYear()," Admin Panel"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("a",{href:"#",className:"text-muted me-3","aria-label":"Facebook",children:(0,o.jsx)("i",{className:"bi bi-facebook fs-5"})}),(0,o.jsx)("a",{href:"#",className:"text-muted me-3","aria-label":"Instagram",children:(0,o.jsx)("i",{className:"bi bi-instagram fs-5"})}),(0,o.jsx)("a",{href:"#",className:"text-muted","aria-label":"GitHub",children:(0,o.jsx)("i",{className:"bi bi-github fs-5"})})]})]})})}),m=function(e){var a=e.children,s=(0,t.useState)(!1),r=(0,n.A)(s,2),l=r[0],i=r[1];return(0,t.useEffect)((function(){var e=function(){i(window.innerWidth<768)};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),(0,o.jsxs)("div",{className:"d-flex flex-column min-vh-100",children:[l?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d,{}),(0,o.jsx)("main",{className:"flex-grow-1 p-4",children:a})]}):(0,o.jsxs)("div",{className:"d-flex flex-grow-1",children:[(0,o.jsx)(d,{}),(0,o.jsx)("main",{className:"flex-grow-1 p-4",children:a})]}),(0,o.jsx)(u,{})]})}},4505:function(e,a,s){var n=s(9722).A.create({baseURL:"http://localhost:8001",headers:{"Content-Type":"application/json"}});n.interceptors.request.use((function(e){var a=localStorage.getItem("token");return a&&(e.headers.Authorization="Bearer ".concat(a)),e}),(function(e){return Promise.reject(e)})),a.A=n},5364:function(e,a,s){s.r(a),s.d(a,{default:function(){return p}});var n=s(4467),t=s(9379),r=s(675),l=s(467),i=s(5544),c=s(5043),o=s(2086),d=s(7027),u=(s(2342),s(4505)),m=function(e,a){return u.A.post("/auth/change-password",{old_password:e,new_password:a})},h=s(579),p=function(){var e=(0,c.useState)("profile"),a=(0,i.A)(e,2),s=a[0],p=a[1],x=(0,c.useState)({}),f=(0,i.A)(x,2),b=f[0],j=f[1],v=(0,c.useState)(!1),N=(0,i.A)(v,2),g=N[0],w=N[1],y=(0,c.useState)(""),A=(0,i.A)(y,2),k=A[0],C=A[1],P=(0,c.useState)(""),_=(0,i.A)(P,2),S=_[0],L=_[1],F=(0,c.useState)(""),R=(0,i.A)(F,2),D=R[0],M=R[1];(0,c.useEffect)((function(){var e=function(){var e=(0,l.A)((0,r.A)().mark((function e(){var a,s;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.A.get("/auth/me");case 3:a=e.sent,s=a.data,j(s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),d.oR.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var U=function(e){var a=e.target,s=a.id,r=a.value;j((function(e){return(0,t.A)((0,t.A)({},e),{},(0,n.A)({},s.replace("input","").charAt(0).toLowerCase()+s.replace("input","").slice(1),r))}))},B=function(){var e=(0,l.A)((0,r.A)().mark((function e(a){return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,s=b,u.A.put("/auth/update",s);case 4:d.oR.success("\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0451\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),d.oR.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f");case 10:case"end":return e.stop()}var s}),e,null,[[1,7]])})));return function(a){return e.apply(this,arguments)}}(),E=function(){var e=(0,l.A)((0,r.A)().mark((function e(a){var s,n;return(0,r.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),S===D){e.next=4;break}return d.oR.error("\u041d\u043e\u0432\u044b\u0435 \u043f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),e.abrupt("return");case 4:return e.prev=4,w(!0),e.next=8,m(k,S);case 8:d.oR.success("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"),C(""),L(""),M(""),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),d.oR.error((null===(s=e.t0.response)||void 0===s||null===(n=s.data)||void 0===n?void 0:n.detail)||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043c\u0435\u043d\u0435 \u043f\u0430\u0440\u043e\u043b\u044f");case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[4,14,17,20]])})));return function(a){return e.apply(this,arguments)}}();return(0,h.jsxs)(o.A,{children:[(0,h.jsx)(d.N9,{}),(0,h.jsx)("section",{className:"p-4",children:(0,h.jsx)("div",{className:"container",children:(0,h.jsxs)("div",{className:"row gy-4 gy-lg-0",children:[(0,h.jsx)("div",{className:"col-12 col-lg-4 col-xl-3",children:(0,h.jsx)("div",{className:"row gy-4",children:(0,h.jsx)("div",{className:"col-12",children:(0,h.jsxs)("div",{className:"card widget-card border-light shadow-sm",children:[(0,h.jsxs)("div",{className:"card-header text-bg-primary",children:["Welcome, ",b.first_name," ",b.last_name]}),(0,h.jsxs)("div",{className:"card-body text-center",children:[(0,h.jsx)("img",{src:"/images/default-user.jpg",className:"img-fluid rounded-circle mb-3",alt:"Profile"}),(0,h.jsxs)("h5",{className:"mb-1",children:[b.first_name," ",b.last_name]}),(0,h.jsx)("p",{className:"text-secondary mb-3",children:"Project Manager"}),(0,h.jsxs)("ul",{className:"list-group list-group-flush mb-3",children:[(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,h.jsx)("strong",{children:"Orders:"})," ",(0,h.jsx)("span",{children:"0"})]}),(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,h.jsx)("strong",{children:"Active Orders:"})," ",(0,h.jsx)("span",{children:"0"})]}),(0,h.jsxs)("li",{className:"list-group-item d-flex justify-content-between",children:[(0,h.jsx)("strong",{children:"Unactive Orders:"})," ",(0,h.jsx)("span",{children:"0"})]})]})]})]})})})}),(0,h.jsx)("div",{className:"col-12 col-lg-8 col-xl-9",children:(0,h.jsx)("div",{className:"card widget-card border-light shadow-sm",children:(0,h.jsxs)("div",{className:"card-body p-4",children:[(0,h.jsxs)("ul",{className:"nav nav-tabs",role:"tablist",children:[(0,h.jsx)("li",{className:"nav-item",role:"presentation",children:(0,h.jsx)("button",{className:"nav-link ".concat("profile"===s?"active":""),onClick:function(){return p("profile")},type:"button",children:"Profile"})}),(0,h.jsx)("li",{className:"nav-item",role:"presentation",children:(0,h.jsx)("button",{className:"nav-link ".concat("password"===s?"active":""),onClick:function(){return p("password")},type:"button",children:"Password"})})]}),(0,h.jsxs)("div",{className:"tab-content pt-4",children:["profile"===s&&(0,h.jsx)("div",{className:"tab-pane fade show active",children:(0,h.jsxs)("form",{className:"row gy-3",onSubmit:B,children:[[{label:"First Name",id:"inputFirstName"},{label:"Last Name",id:"inputLastName"},{label:"Calling Code",id:"inputCallingCode"},{label:"Phone",id:"inputPhone"},{label:"Country",id:"inputCountry"},{label:"City",id:"inputCity"},{label:"Postal Code",id:"inputPostalCode"},{label:"Address Line",id:"inputAddressLine"},{label:"Date of Birth",id:"inputDateOfBirth",type:"date"}].map((function(e,a){return(0,h.jsxs)("div",{className:"col-12 col-md-6",children:[(0,h.jsx)("label",{htmlFor:e.id,className:"form-label",children:e.label}),(0,h.jsx)("input",{type:e.type||"text",className:"form-control",id:e.id,value:b[e.id.replace("input","").charAt(0).toLowerCase()+e.id.replace("input","").slice(1)]||"",onChange:U})]},a)})),(0,h.jsxs)("div",{className:"col-12 col-md-6",children:[(0,h.jsx)("label",{htmlFor:"inputGender",className:"form-label",children:"Gender"}),(0,h.jsxs)("select",{id:"inputGender",className:"form-select",value:b.gender||"male",onChange:function(e){return j((function(a){return(0,t.A)((0,t.A)({},a),{},{gender:e.target.value})}))},children:[(0,h.jsx)("option",{value:"male",children:"Male"}),(0,h.jsx)("option",{value:"female",children:"Female"})]})]}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})})]})}),"password"===s&&(0,h.jsx)("div",{className:"tab-pane fade show active",children:(0,h.jsxs)("form",{className:"row gy-3",onSubmit:E,children:[(0,h.jsxs)("div",{className:"col-12 col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"Current Password"}),(0,h.jsx)("input",{type:"password",className:"form-control",value:k,onChange:function(e){return C(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-12 col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"New Password"}),(0,h.jsx)("input",{type:"password",className:"form-control",value:S,onChange:function(e){return L(e.target.value)}})]}),(0,h.jsxs)("div",{className:"col-12 col-md-6",children:[(0,h.jsx)("label",{className:"form-label",children:"Confirm Password"}),(0,h.jsx)("input",{type:"password",className:"form-control",value:D,onChange:function(e){return M(e.target.value)}})]}),(0,h.jsx)("div",{className:"col-12",children:(0,h.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Updating...":"Change Password"})})]})})]})]})})})]})})})]})}},8816:function(e,a,s){s.d(a,{iD:function(){return l},ri:function(){return i}});var n=s(675),t=s(467),r=s(4505),l=function(){var e=(0,t.A)((0,n.A)().mark((function e(a){var s,t;return(0,n.A)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new URLSearchParams).append("username",a.username),s.append("password",a.password),e.next=5,r.A.post("/auth/login",s,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 5:return t=e.sent,e.abrupt("return",t.data);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),i=function(){localStorage.removeItem("token"),window.location.href="/login"}}}]);
//# sourceMappingURL=364.d14082f7.chunk.js.map